-- DB SET up
DROP TABLE REPORT_DATA_FIELDS;
DROP TABLE REPORT_DATA_SOURCES;

  CREATE TABLE "REPORT_DATA_SOURCES" 
   (
    "REPORT_INTERNAL_ID" NUMBER(9,0) NOT NULL ENABLE, 
	"REPORT_IDENTIFIER" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"DISPLAY_NAME" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"REPORT_DESCRIPTION" VARCHAR2(1000 BYTE), 
	"VIEW_NAME" VARCHAR2(255 BYTE), 	
	"DISPLAY_ORDER" NUMBER NOT NULL ENABLE, 
	"CREATED_DATE" DATE NOT NULL ENABLE, 
	"CREATED_BY" VARCHAR2(255 BYTE), 
	"FL_DELETED" NUMBER(1,0) DEFAULT 0, 
	"CONNECTION_ID" VARCHAR2(10 BYTE) DEFAULT 1 NOT NULL ENABLE , 
	 CONSTRAINT "REPORT_DATA_SOURCES_PK" PRIMARY KEY ("REPORT_INTERNAL_ID")
   );
   
   
    CREATE TABLE "REPORT_DATA_FIELDS" 
   (	
   "REPORT_FIELDS_INTERNAL_ID" NUMBER(9,0) NOT NULL ENABLE, 
	"REPORT_INTERNAL_ID" NUMBER(9,0) NOT NULL ENABLE, 
	"FIELD_NAME" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"DISPLAY_NAME" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"FIELD_TYPE" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"FIELD_LENGTH" NUMBER(9,0) NOT NULL ENABLE, 
	"DISPLAY_ORDER" NUMBER NOT NULL ENABLE, 
	"FL_HIDE" NUMBER(1,0) DEFAULT 0, 
	"FL_PERIOD" NUMBER(1,0) NOT NULL ENABLE, 
	"FL_DEFAULTSORT" NUMBER(1,0) DEFAULT 0, 
	"FL_FILTER" NUMBER(1,0) DEFAULT 1, 
	 CONSTRAINT "REPORT_DATA_FIELDS_PK" PRIMARY KEY ("REPORT_FIELDS_INTERNAL_ID"),
	 CONSTRAINT "FK_REPORT_DATA_FIELDS" FOREIGN KEY ("REPORT_INTERNAL_ID")  REFERENCES "REPORT_DATA_SOURCES" ("REPORT_INTERNAL_ID") ENABLE
   );
   
   
INSERT INTO "CADENT"."REPORT_DATA_SOURCES" (REPORT_INTERNAL_ID, REPORT_IDENTIFIER, DISPLAY_NAME, REPORT_DESCRIPTION, VIEW_NAME, DISPLAY_ORDER,CREATED_DATE, CREATED_BY) VALUES ((select Nvl(max(REPORT_INTERNAL_ID),0)+1 from REPORT_DATA_SOURCES), 'CX_NAM_METRICS', 'CX NAM METRICS', 'NAM Customer screening metrics ', 'CS_METRICS_SNAPSHOT', '100', sysdate, 'GOPU');
INSERT INTO "CADENT"."REPORT_DATA_SOURCES" (REPORT_INTERNAL_ID, REPORT_IDENTIFIER, DISPLAY_NAME, REPORT_DESCRIPTION, VIEW_NAME, DISPLAY_ORDER,CREATED_DATE, CREATED_BY) VALUES ((select Nvl(max(REPORT_INTERNAL_ID),0)+1 from REPORT_DATA_SOURCES), 'TX_NAM_METRICS', 'TX NAM METRICS', 'NAM Transaction Screening metrics ', 'TX_METRICS_SNAPSHOT', '101', sysdate, 'GOPU');
INSERT INTO "CADENT"."REPORT_DATA_SOURCES" (REPORT_INTERNAL_ID, REPORT_IDENTIFIER, DISPLAY_NAME, REPORT_DESCRIPTION, VIEW_NAME, DISPLAY_ORDER,CREATED_DATE, CREATED_BY) VALUES ((select Nvl(max(REPORT_INTERNAL_ID),0)+1 from REPORT_DATA_SOURCES), 'CX_EMEA_METRICS', 'CX EMEA METRICS', 'EMEA Customer screening metrics ', 'CX_EMEA_METRICS_SNAPSHOT', '102', sysdate, 'GOPU');
INSERT INTO "CADENT"."REPORT_DATA_SOURCES" (REPORT_INTERNAL_ID, REPORT_IDENTIFIER, DISPLAY_NAME, REPORT_DESCRIPTION, VIEW_NAME, DISPLAY_ORDER,CREATED_DATE, CREATED_BY) VALUES ((select Nvl(max(REPORT_INTERNAL_ID),0)+1 from REPORT_DATA_SOURCES), 'TX_EMEA_METRICS', 'TX EMEA METRICS', 'EEMA Transaction Screening metrics ', 'TX_EMEA_METRICS_SNAPSHOT', '103', sysdate, 'GOPU');
INSERT INTO "CADENT"."REPORT_DATA_SOURCES" (REPORT_INTERNAL_ID, REPORT_IDENTIFIER, DISPLAY_NAME, REPORT_DESCRIPTION, VIEW_NAME, DISPLAY_ORDER,CREATED_DATE, CREATED_BY) VALUES ((select Nvl(max(REPORT_INTERNAL_ID),0)+1 from REPORT_DATA_SOURCES), 'TX_APAC_METRICS', 'TX APAC METRICS', 'APAC Transaction Screening metrics ', 'TX_APAC_METRICS_SNAPSHOT', '104', sysdate, 'GOPU');
INSERT INTO "CADENT"."REPORT_DATA_SOURCES" (REPORT_INTERNAL_ID, REPORT_IDENTIFIER, DISPLAY_NAME, REPORT_DESCRIPTION, VIEW_NAME, DISPLAY_ORDER,CREATED_DATE, CREATED_BY) VALUES ((select Nvl(max(REPORT_INTERNAL_ID),0)+1 from REPORT_DATA_SOURCES), 'TX_MEX_METRICS', 'TX MEX METRICS', 'MEX Transaction Screening metrics ', 'TX_MEX_METRICS_SNAPSHOT', '105', sysdate, 'GOPU');


INSERT INTO REPORT_DATA_FIELDS (REPORT_FIELDS_INTERNAL_ID, REPORT_INTERNAL_ID, FIELD_NAME, DISPLAY_NAME, FIELD_TYPE, FIELD_LENGTH, DISPLAY_ORDER, FL_HIDE, FL_PERIOD, FL_DEFAULTSORT, FL_FILTER) VALUES ((select Nvl(max(REPORT_FIELDS_INTERNAL_ID),0)+1 from REPORT_DATA_FIELDS), '1', 'BUSINESS_UNIT_KEY', 'Business Unit Key', 'Integer', '10', '1', '0', '0', '0', '1')
INSERT INTO REPORT_DATA_FIELDS (REPORT_FIELDS_INTERNAL_ID, REPORT_INTERNAL_ID, FIELD_NAME, DISPLAY_NAME, FIELD_TYPE, FIELD_LENGTH, DISPLAY_ORDER, FL_HIDE, FL_PERIOD, FL_DEFAULTSORT, FL_FILTER) 	VALUES ((select Nvl(max(REPORT_FIELDS_INTERNAL_ID),0)+1 from REPORT_DATA_FIELDS),1,'BUSINESS_PRODUCT_ID','Business product Id','STRING',255,1,0,0,0,0)




commit;
